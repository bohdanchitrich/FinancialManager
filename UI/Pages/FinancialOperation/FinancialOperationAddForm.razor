@page "/operation/add"
@using Microsoft.AspNetCore.Components

<h1 class="text-center text-muted">Add new category</h1>
<EditForm Model="FinancialOperationAddModel" class="text-center" OnValidSubmit="HandleValidationRequestedAsync">
    <DataAnnotationsValidator></DataAnnotationsValidator>
    <ValidationSummary></ValidationSummary>

    <div class="mb-3 mt-3">
        <label for="@FinancialOperationAddModel.Date" class="form-label">Date</label>
        <InputDate @bind-Value="@FinancialOperationAddModel.Date" ></InputDate>
    </div>
    <div class="mb-3">
        <label for="@FinancialOperationAddModel.Amount" class="form-label">Amount</label>
        <InputNumber @bind-Value="FinancialOperationAddModel.Amount" placeholder="Input amount" class="form-control"></InputNumber>
    </div>
    <div class="mb-3">
        <label for="@FinancialOperationAddModel.CategoryId" class="form-label">Category</label>
        @if (CategorySelectModel!.Categories != null)
        {
            <InputSelect @bind-Value="FinancialOperationAddModel.CategoryId" class="form-select">
                @foreach (var enumValue in  CategorySelectModel!.Categories!)
                {
                    <option value="@enumValue.Id">@enumValue.Name</option>
                }
            </InputSelect>
        }
    </div>
    <button type="submit" class="btn btn-success">Send</button>
</EditForm>

@if (_errorMessage.Length > 0)
{
    <div class="alert alert-danger" role="alert">
        @_errorMessage
    </div>
}
